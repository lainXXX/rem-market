25-01-21.16:55:08.909 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 24516 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.16:55:08.912 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.16:55:10.131 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.16:55:10.133 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.16:55:10.206 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 0 Redis repository interfaces.
25-01-21.16:55:10.741 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.16:55:10.855 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.16:55:10.863 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.16:55:10.863 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.16:55:11.034 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.16:55:11.034 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2059 ms
25-01-21.16:55:11.334 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.16:55:12.082 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.16:55:12.271 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.16:55:16.082 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.16:55:16.168 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.16:55:16.178 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.16:55:16.180 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.16:55:16.339 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#24fba488:0/SimpleConnection@71139e77 [delegate=amqp://lain@110.41.180.185:5672/, localPort= 64541]
25-01-21.16:55:16.899 [main            ] INFO  Application            - Started Application in 8.601 seconds (JVM running for 10.064)
25-01-21.16:55:17.125 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.16:55:17.627 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.16:55:18.022 [RMI TCP Connection(4)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.16:55:18.022 [RMI TCP Connection(4)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.16:55:18.024 [RMI TCP Connection(4)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-01-21.16:55:30.003 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:55:30.187 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:56:00.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:56:00.037 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:56:00.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.16:56:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:56:30.059 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:57:00.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:57:00.057 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.16:57:00.081 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:57:30.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:57:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:58:00.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.16:58:00.038 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:58:00.064 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:58:30.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:58:30.053 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:59:00.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.16:59:00.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:59:00.078 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:59:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.16:59:30.051 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.16:59:44.185 [http-nio-8091-exec-1] INFO  RaffleActivityController - 日历签到返利 用户ID: rem
25-01-21.16:59:44.644 [http-nio-8091-exec-1] INFO  EventPublisher         - 发送MQ消息 topic: send_rebate message: BaseEvent.EventMessage(eventId=98655417284, timestamp=Tue Jan 21 16:59:44 CST 2025, data=SendRebateMessageEvent.RebateMessage(userId=rem, rebateDesc=签到返利-sku额度, rebateType=sku, rebateConfig=9011, bizId=rem_sku_20250121))
25-01-21.16:59:44.693 [http-nio-8091-exec-1] INFO  EventPublisher         - 发送MQ消息 topic: send_rebate message: BaseEvent.EventMessage(eventId=66634391894, timestamp=Tue Jan 21 16:59:44 CST 2025, data=SendRebateMessageEvent.RebateMessage(userId=rem, rebateDesc=签到返利-积分, rebateType=integral, rebateConfig=10, bizId=rem_integral_20250121))
25-01-21.16:59:44.710 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  RebateMessageCustomer  - 监听用户返利消息 topic:send_rebate message:{"eventId":"98655417284","timestamp":"Jan 21, 2025 4:59:44 PM","data":{"userId":"rem","rebateDesc":"签到返利-sku额度","rebateType":"sku","rebateConfig":"9011","bizId":"rem_sku_20250121"}}
25-01-21.16:59:44.787 [http-nio-8091-exec-1] INFO  RaffleActivityController - 签到返利完成 userId:rem orderIds:[rem_sku_20250121, rem_integral_20250121]
25-01-21.16:59:44.915 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=10, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.16:59:44.916 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.16:59:44.917 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.16:59:45.043 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=05143627391, orderTime=2025-01-21T16:59:45.043, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, status=null, outBusinessNo=rem_sku_20250121))
25-01-21.16:59:45.555 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  RebateMessageCustomer  - 监听用户返利消息 topic:send_rebate message:{"eventId":"66634391894","timestamp":"Jan 21, 2025 4:59:44 PM","data":{"userId":"rem","rebateDesc":"签到返利-积分","rebateType":"integral","rebateConfig":"10","bizId":"rem_integral_20250121"}}
25-01-21.16:59:45.557 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:REBATE amount:10
25-01-21.16:59:46.024 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:457214904105 topic: credit_adjust_success
25-01-21.16:59:46.024 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:457214904105
25-01-21.17:00:00.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:00:00.186 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:00:00.211 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:00:14.932 [http-nio-8091-exec-2] INFO  RaffleActivityController - 通过活动ID获取sku商品集合 参数检验 activityId:100301
25-01-21.17:00:15.031 [http-nio-8091-exec-2] INFO  RaffleActivityController - 通过活动ID获取sku商品集合成功 activityId:100301 skuProductList:[SkuProductEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=2, productAmount=1.68, activityCount=SkuProductEntity.ActivityCount(totalCount=1, dayCount=1, monthCount=1))]
25-01-21.17:00:27.275 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户积分值开始 userId:rem
25-01-21.17:00:27.324 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户积分值完成 userId:rem adjustAmount:31.60
25-01-21.17:00:30.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:00:30.038 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:00:36.754 [http-nio-8091-exec-5] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.17:00:36.914 [http-nio-8091-exec-5] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=9, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.17:00:36.914 [http-nio-8091-exec-5] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.17:00:36.914 [http-nio-8091-exec-5] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.17:00:36.995 [http-nio-8091-exec-5] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=70168877495, orderTime=2025-01-21T17:00:36.995, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, status=null, outBusinessNo=843574410235))
25-01-21.17:00:37.124 [http-nio-8091-exec-5] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.17:00:37.407 [http-nio-8091-exec-5] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"94861144482","timestamp":"Jan 21, 2025 5:00:37 PM","data":{"userId":"rem","orderId":"575631655257","amount":1.68,"outBusinessNo":"843574410235"}}
25-01-21.17:00:37.429 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"94861144482","timestamp":"Jan 21, 2025 5:00:37 PM","data":{"userId":"rem","orderId":"575631655257","amount":1.68,"outBusinessNo":"843574410235"}}
25-01-21.17:00:37.456 [http-nio-8091-exec-5] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:575631655257 topic: credit_adjust_success
25-01-21.17:00:37.456 [http-nio-8091-exec-5] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:575631655257
25-01-21.17:00:37.457 [http-nio-8091-exec-5] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:575631655257
25-01-21.17:01:00.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:01:00.165 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:01:00.189 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:01:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:01:30.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:02:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:02:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:02:00.081 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:02:30.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:02:30.106 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:03:00.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:03:00.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:03:00.103 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:03:30.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:03:30.040 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:04:00.000 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:04:00.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:04:00.089 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:04:30.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:04:30.025 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:04:51.000 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.17:04:51.162 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=8, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.17:04:51.162 [http-nio-8091-exec-8] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.17:04:51.163 [http-nio-8091-exec-8] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.17:04:51.237 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=36583467200, orderTime=2025-01-21T17:04:51.237, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, status=null, outBusinessNo=838307787957))
25-01-21.17:04:51.377 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.17:04:51.672 [http-nio-8091-exec-8] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"91813514099","timestamp":"Jan 21, 2025 5:04:51 PM","data":{"userId":"rem","orderId":"017261762149","amount":1.68,"outBusinessNo":"838307787957"}}
25-01-21.17:04:51.695 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"91813514099","timestamp":"Jan 21, 2025 5:04:51 PM","data":{"userId":"rem","orderId":"017261762149","amount":1.68,"outBusinessNo":"838307787957"}}
25-01-21.17:04:51.720 [http-nio-8091-exec-8] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:017261762149 topic: credit_adjust_success
25-01-21.17:04:51.720 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:017261762149
25-01-21.17:04:51.720 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:017261762149
25-01-21.17:05:00.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:05:00.026 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:05:00.171 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:05:30.006 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:05:30.084 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:06:00.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:06:00.038 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:06:00.058 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:06:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:06:30.087 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:07:00.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:07:00.033 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:07:00.059 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:07:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:07:30.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:08:00.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:08:00.030 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:08:00.054 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:08:30.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:08:30.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:09:00.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:09:00.036 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:09:00.061 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:09:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:09:30.107 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:10:00.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:10:00.038 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:10:00.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:10:30.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:10:30.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:11:00.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:11:00.039 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:11:00.061 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:11:30.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:11:30.039 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:12:00.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:12:00.039 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:12:00.065 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:12:30.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:12:30.037 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:13:00.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:13:00.059 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:13:00.092 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:13:30.012 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:13:30.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:14:00.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:14:00.030 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:14:00.055 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:14:30.011 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:14:30.086 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:15:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:15:00.030 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:15:00.056 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:15:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:15:30.079 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:16:00.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:16:00.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:16:00.114 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:16:30.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:16:30.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:17:00.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:17:00.045 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:17:00.118 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:17:30.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:17:30.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:18:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:18:00.033 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:18:00.080 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:18:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:18:30.093 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:19:00.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:19:00.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:19:00.149 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:19:30.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:19:30.109 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:20:00.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:20:00.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:20:00.101 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:20:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:20:30.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:21:00.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:21:00.041 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:21:00.112 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:21:30.001 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:21:30.107 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:22:00.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:22:00.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:22:00.125 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:22:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:22:30.075 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:23:00.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:23:00.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:23:00.096 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:23:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:23:30.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:24:00.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:24:00.034 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:24:00.061 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:24:30.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:24:30.040 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:25:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:25:00.033 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:25:00.061 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:25:05.069 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@307885da (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:25:10.085 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@13918902 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:25:30.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:25:30.033 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:26:00.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:26:00.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:26:00.103 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:26:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:26:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:27:00.003 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:27:00.075 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:27:00.108 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:27:30.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:27:30.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:28:00.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:28:00.039 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:28:00.064 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:28:30.013 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:28:30.123 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:29:00.006 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:29:00.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:29:00.089 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:29:30.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:29:30.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:29:30.059 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5af5ac5c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.081 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3006f3a3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.083 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@50df04e1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.084 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@20384a74 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.110 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@24cc9ec1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.134 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@23d0fa10 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.135 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@b000a87 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.161 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@69098a79 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.188 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@29f32b0f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:29:30.192 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@d57445b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.17:30:00.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:30:00.037 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:30:00.065 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:30:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:30:30.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:31:00.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:31:00.047 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:31:00.071 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:31:30.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:31:30.030 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:32:00.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:32:00.041 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:32:00.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:32:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:32:30.030 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:33:00.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:33:00.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:33:00.074 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:33:30.013 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:33:30.106 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:34:00.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:34:00.040 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:34:00.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:34:30.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:34:30.033 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:35:00.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:35:00.026 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:35:00.053 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:35:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:35:30.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:36:00.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:36:00.038 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:36:00.084 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:36:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:36:30.055 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:37:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:37:00.035 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:37:00.059 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:37:30.015 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:37:30.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:38:00.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:38:00.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:38:00.079 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:38:30.015 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:38:30.062 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:39:00.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:39:00.027 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:39:00.053 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:39:30.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:39:30.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:40:00.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:40:00.026 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:40:00.073 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:40:30.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:40:30.062 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:41:00.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:41:00.039 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:41:00.088 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.17:41:30.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.17:41:30.056 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.17:41:58.260 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.17:41:58.280 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.17:41:58.300 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.17:41:58.320 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.17:41:58.640 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.17:41:59.077 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.17:41:59.278 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.17:41:59.278 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.17:41:59.748 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.17:41:59.748 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.17:41:59.748 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.17:41:59.748 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.17:41:59.837 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.17:41:59.842 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:13:55.837 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 8904 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:13:55.841 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:13:56.677 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:13:56.678 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:13:56.745 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
25-01-21.18:13:57.181 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:13:57.288 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:13:57.294 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:13:57.294 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:13:57.450 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:13:57.450 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1565 ms
25-01-21.18:13:57.690 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:13:58.395 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:13:58.593 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:14:02.244 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:14:02.339 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:14:02.351 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:14:02.353 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:14:02.483 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#51ba952e:0/SimpleConnection@7c5c20ed [delegate=amqp://lain@110.41.180.185:5672/, localPort= 51311]
25-01-21.18:14:03.157 [main            ] INFO  Application            - Started Application in 7.715 seconds (JVM running for 8.984)
25-01-21.18:14:03.978 [RMI TCP Connection(2)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:14:03.978 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:14:03.980 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-01-21.18:14:04.005 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:14:04.601 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.18:14:30.001 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:14:30.160 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:15:00.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:15:00.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:15:00.091 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:15:30.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:15:30.067 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:15:47.397 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:15:47.680 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=7, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:15:47.681 [http-nio-8091-exec-2] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:15:47.682 [http-nio-8091-exec-2] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:15:47.843 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=21280424194, orderTime=2025-01-21T18:15:47.843, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=869639032708))
25-01-21.18:15:48.065 [http-nio-8091-exec-2] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'activity_order_type' at row 1
### The error may exist in top/javarem/infrastructure/dao/mapper/RaffleActivityOrderMapper.java (best guess)
### The error may involve top.javarem.infrastructure.dao.mapper.RaffleActivityOrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO raffle_activity_order  ( user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, total_count, day_count, month_count, pay_amount, activity_order_type, status, out_business_no, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'activity_order_type' at row 1
; Data truncation: Data too long for column 'activity_order_type' at row 1; nested exception is com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'activity_order_type' at row 1
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at com.sun.proxy.$Proxy99.insert(Unknown Source)
	at com.baomidou.mybatisplus.extension.service.IService.save(IService.java:61)
	at com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at top.javarem.infrastructure.dao.iService.Impl.RaffleActivityOrderServiceImpl$$EnhancerBySpringCGLIB$$278d6cf9.save(<generated>)
	at top.javarem.infrastructure.adapter.repository.ActivityRepository.lambda$saveCreditOrder$2(ActivityRepository.java:299)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at top.javarem.infrastructure.adapter.repository.ActivityRepository.saveCreditOrder(ActivityRepository.java:296)
	at top.javarem.infrastructure.adapter.repository.ActivityRepository$$FastClassBySpringCGLIB$$ae16c582.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at top.javarem.infrastructure.adapter.repository.ActivityRepository$$EnhancerBySpringCGLIB$$72b5d4d9.saveCreditOrder(<generated>)
	at top.javarem.domain.activity.service.quota.policy.impl.CreditPayTradePolicy.trade(CreditPayTradePolicy.java:28)
	at top.javarem.domain.activity.service.quota.AbstractRaffleActivityAccountQuotaService.createOrder(AbstractRaffleActivityAccountQuotaService.java:77)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'activity_order_type' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at com.sun.proxy.$Proxy151.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 83 common frames omitted
25-01-21.18:16:00.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:16:00.067 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:16:00.092 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:16:30.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:16:30.024 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:16:54.963 [http-nio-8091-exec-6] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:16:55.138 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=6, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:16:55.138 [http-nio-8091-exec-6] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:16:55.138 [http-nio-8091-exec-6] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:16:55.217 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=27948260915, orderTime=2025-01-21T18:16:55.217, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=195830752458))
25-01-21.18:16:55.376 [http-nio-8091-exec-6] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:16:55.818 [http-nio-8091-exec-6] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"24687690799","timestamp":"Jan 21, 2025 6:16:55 PM","data":{"userId":"rem","orderId":"000212020813","amount":1.68,"outBusinessNo":"195830752458"}}
25-01-21.18:16:55.850 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"24687690799","timestamp":"Jan 21, 2025 6:16:55 PM","data":{"userId":"rem","orderId":"000212020813","amount":1.68,"outBusinessNo":"195830752458"}}
25-01-21.18:16:55.880 [http-nio-8091-exec-6] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:000212020813 topic: credit_adjust_success
25-01-21.18:16:55.881 [http-nio-8091-exec-6] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:000212020813
25-01-21.18:16:55.881 [http-nio-8091-exec-6] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:000212020813
25-01-21.18:17:00.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:17:00.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:17:00.220 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:17:30.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:17:30.047 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:18:00.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:18:00.067 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:18:00.088 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:18:08.904 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:18:09.076 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=5, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:18:09.076 [http-nio-8091-exec-8] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:18:09.076 [http-nio-8091-exec-8] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:18:09.156 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=64775856079, orderTime=2025-01-21T18:18:09.156, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=196154478727))
25-01-21.18:18:09.311 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:18:09.665 [http-nio-8091-exec-8] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"88902213603","timestamp":"Jan 21, 2025 6:18:09 PM","data":{"userId":"rem","orderId":"045703978891","amount":1.68,"outBusinessNo":"196154478727"}}
25-01-21.18:18:09.691 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"88902213603","timestamp":"Jan 21, 2025 6:18:09 PM","data":{"userId":"rem","orderId":"045703978891","amount":1.68,"outBusinessNo":"196154478727"}}
25-01-21.18:18:09.727 [http-nio-8091-exec-8] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:045703978891 topic: credit_adjust_success
25-01-21.18:18:09.727 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:045703978891
25-01-21.18:18:09.727 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:045703978891
25-01-21.18:18:23.553 [http-nio-8091-exec-9] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:18:23.725 [http-nio-8091-exec-9] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=4, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:18:23.725 [http-nio-8091-exec-9] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:18:23.725 [http-nio-8091-exec-9] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:18:23.803 [http-nio-8091-exec-9] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=52076304634, orderTime=2025-01-21T18:18:23.803, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=601168775828))
25-01-21.18:18:23.956 [http-nio-8091-exec-9] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:18:24.313 [http-nio-8091-exec-9] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"52076284740","timestamp":"Jan 21, 2025 6:18:23 PM","data":{"userId":"rem","orderId":"071216816710","amount":1.68,"outBusinessNo":"601168775828"}}
25-01-21.18:18:24.340 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"52076284740","timestamp":"Jan 21, 2025 6:18:23 PM","data":{"userId":"rem","orderId":"071216816710","amount":1.68,"outBusinessNo":"601168775828"}}
25-01-21.18:18:24.375 [http-nio-8091-exec-9] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:071216816710 topic: credit_adjust_success
25-01-21.18:18:24.376 [http-nio-8091-exec-9] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:071216816710
25-01-21.18:18:24.376 [http-nio-8091-exec-9] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:071216816710
25-01-21.18:18:29.838 [http-nio-8091-exec-10] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:18:30.004 [http-nio-8091-exec-10] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=3, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:18:30.004 [http-nio-8091-exec-10] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:18:30.004 [http-nio-8091-exec-10] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:18:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:18:30.039 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:18:30.086 [http-nio-8091-exec-10] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=15398242751, orderTime=2025-01-21T18:18:30.086, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=120601711567))
25-01-21.18:18:30.235 [http-nio-8091-exec-10] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:18:30.584 [http-nio-8091-exec-10] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"50902363437","timestamp":"Jan 21, 2025 6:18:30 PM","data":{"userId":"rem","orderId":"822029805574","amount":1.68,"outBusinessNo":"120601711567"}}
25-01-21.18:18:30.610 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"50902363437","timestamp":"Jan 21, 2025 6:18:30 PM","data":{"userId":"rem","orderId":"822029805574","amount":1.68,"outBusinessNo":"120601711567"}}
25-01-21.18:18:30.646 [http-nio-8091-exec-10] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:822029805574 topic: credit_adjust_success
25-01-21.18:18:30.646 [http-nio-8091-exec-10] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:822029805574
25-01-21.18:18:30.646 [http-nio-8091-exec-10] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:822029805574
25-01-21.18:19:00.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:19:00.173 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:19:00.200 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:19:30.015 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:19:30.067 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:20:00.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:20:00.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:20:00.092 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:20:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:20:30.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:21:00.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:21:00.044 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:21:00.095 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:21:30.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:21:30.038 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:22:00.000 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:22:00.023 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:22:00.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:22:30.003 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:22:30.069 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:23:00.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:23:00.061 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:23:00.088 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:23:30.006 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:23:30.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:24:00.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:24:00.028 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:24:00.057 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:24:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:24:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:25:00.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:25:00.041 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:25:00.061 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:25:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:25:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:25:38.154 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:25:38.180 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:25:38.207 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:25:38.234 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:25:38.409 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:25:38.590 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:25:38.809 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:25:38.935 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:25:39.385 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:25:39.386 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:25:39.386 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:25:39.386 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:25:39.491 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.18:25:39.498 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:25:43.638 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 22904 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:25:43.639 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:25:44.597 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:25:44.599 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:25:44.659 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
25-01-21.18:25:45.228 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:25:45.307 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:25:45.314 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:25:45.314 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:25:45.479 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:25:45.479 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1802 ms
25-01-21.18:25:45.762 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:25:46.500 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:25:46.675 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:25:50.279 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:25:50.377 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:25:50.388 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:25:50.390 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:25:50.528 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6d2db15b:0/SimpleConnection@65021bb4 [delegate=amqp://lain@110.41.180.185:5672/, localPort= 52666]
25-01-21.18:25:51.186 [main            ] INFO  Application            - Started Application in 7.977 seconds (JVM running for 9.61)
25-01-21.18:25:51.690 [RMI TCP Connection(1)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:25:51.690 [RMI TCP Connection(1)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:25:51.692 [RMI TCP Connection(1)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-01-21.18:25:52.727 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:25:53.202 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.18:26:00.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:26:00.045 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:26:00.075 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:26:08.879 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:26:09.100 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=2, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:26:09.101 [http-nio-8091-exec-2] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:26:09.102 [http-nio-8091-exec-2] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:26:09.227 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=62120836977, orderTime=2025-01-21T18:26:09.226, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=870315337545))
25-01-21.18:26:09.383 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:26:46.311 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:26:46.311 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s8ms764µs100ns).
25-01-21.18:26:46.367 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:26:46.592 [http-nio-8091-exec-2] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 02818647-81dc-4551-a545-68023daceac1 thread-id: 63
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:301)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:371)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:486)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
	at org.redisson.command.RedisExecutor.handleSuccess(RedisExecutor.java:625)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:177)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:583)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:196)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:337)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:228)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
25-01-21.18:27:00.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:27:00.030 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:27:00.053 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:27:00.110 [scheduling-1    ] INFO  SendMessageTaskJob     - 
25-01-21.18:27:00.113 [pool-3-thread-1 ] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"96933670939","timestamp":"Jan 21, 2025 6:26:09 PM","data":{"userId":"rem","orderId":"251807532639","amount":1.68,"outBusinessNo":"870315337545"}}
25-01-21.18:27:00.147 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"96933670939","timestamp":"Jan 21, 2025 6:26:09 PM","data":{"userId":"rem","orderId":"251807532639","amount":1.68,"outBusinessNo":"870315337545"}}
25-01-21.18:27:00.551 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:27:00.578 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:27:00.605 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:27:00.609 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:27:00.631 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:27:01.451 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:27:01.451 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:27:01.451 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:27:01.904 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:27:01.904 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:27:01.905 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:27:01.905 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:27:02.001 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.18:27:02.007 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:27:09.775 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 19908 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:27:09.777 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:27:10.585 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:27:10.586 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:27:10.655 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 0 Redis repository interfaces.
25-01-21.18:27:11.091 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:27:11.201 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:27:11.207 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:27:11.207 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:27:11.366 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:27:11.366 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1552 ms
25-01-21.18:27:11.600 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:27:12.302 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:27:12.516 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:27:15.874 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:27:15.956 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:27:15.966 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:27:15.967 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:27:16.093 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6d5f4900:0/SimpleConnection@2aac8ad7 [delegate=amqp://lain@110.41.180.185:5672/, localPort= 62669]
25-01-21.18:27:16.741 [main            ] INFO  Application            - Started Application in 7.357 seconds (JVM running for 8.566)
25-01-21.18:27:17.840 [RMI TCP Connection(3)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:27:17.840 [RMI TCP Connection(3)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:27:17.845 [RMI TCP Connection(3)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 5 ms
25-01-21.18:27:17.870 [RMI TCP Connection(2)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:27:18.377 [RMI TCP Connection(2)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.18:27:26.433 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:27:26.708 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=1, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:27:26.709 [http-nio-8091-exec-2] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:27:26.712 [http-nio-8091-exec-2] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:27:26.746 [http-nio-8091-exec-2] INFO  EventPublisher         - 发送MQ消息 topic: activity_sku_stock_zero message: BaseEvent.EventMessage(eventId=41670826738, timestamp=Tue Jan 21 18:27:26 CST 2025, data=9011)
25-01-21.18:27:26.748 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=37889716510, orderTime=2025-01-21T18:27:26.747, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=967330176242))
25-01-21.18:27:26.778 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ActivitySkuStockZeroCustomer - 活动sku库存为0消息消费 topic: activity_sku_stock_zero message:{"eventId":"41670826738","timestamp":"Jan 21, 2025 6:27:26 PM","data":9011}
25-01-21.18:27:26.900 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:27:27.253 [http-nio-8091-exec-2] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"70661351525","timestamp":"Jan 21, 2025 6:27:26 PM","data":{"userId":"rem","orderId":"144827650172","amount":1.68,"outBusinessNo":"967330176242"}}
25-01-21.18:27:27.278 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"70661351525","timestamp":"Jan 21, 2025 6:27:26 PM","data":{"userId":"rem","orderId":"144827650172","amount":1.68,"outBusinessNo":"967330176242"}}
25-01-21.18:27:27.308 [http-nio-8091-exec-2] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:144827650172 topic: credit_adjust_success
25-01-21.18:27:27.308 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:144827650172
25-01-21.18:27:27.308 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:144827650172
25-01-21.18:27:30.011 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:27:30.065 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:28:00.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:28:00.065 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:28:00.097 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:28:18.746 [http-nio-8091-exec-3] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:28:18.912 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=0, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:28:18.912 [http-nio-8091-exec-3] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:28:18.915 [http-nio-8091-exec-3] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
top.javarem.types.exception.AppException: null
	at top.javarem.domain.activity.service.quota.rule.impl.BaseFilterChain.execute(BaseFilterChain.java:36)
	at top.javarem.domain.activity.service.quota.AbstractRaffleActivityAccountQuotaService.createOrder(AbstractRaffleActivityAccountQuotaService.java:63)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.Throwable: 活动库存为空
	at top.javarem.types.exception.AppException.<init>(AppException.java:30)
	... 57 common frames omitted
25-01-21.18:28:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:28:30.065 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:28:42.822 [http-nio-8091-exec-5] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:28:43.039 [http-nio-8091-exec-5] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=0, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:28:43.039 [http-nio-8091-exec-5] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:28:43.039 [http-nio-8091-exec-5] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
top.javarem.types.exception.AppException: null
	at top.javarem.domain.activity.service.quota.rule.impl.BaseFilterChain.execute(BaseFilterChain.java:36)
	at top.javarem.domain.activity.service.quota.AbstractRaffleActivityAccountQuotaService.createOrder(AbstractRaffleActivityAccountQuotaService.java:63)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.Throwable: 活动库存为空
	at top.javarem.types.exception.AppException.<init>(AppException.java:30)
	... 57 common frames omitted
25-01-21.18:29:00.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:29:00.116 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:29:00.149 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:29:30.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:29:30.088 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:29:39.890 [http-nio-8091-exec-6] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:29:40.091 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=20, stockCountSurplus=0, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:29:40.091 [http-nio-8091-exec-6] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:29:40.091 [http-nio-8091-exec-6] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
top.javarem.types.exception.AppException: null
	at top.javarem.domain.activity.service.quota.rule.impl.BaseFilterChain.execute(BaseFilterChain.java:36)
	at top.javarem.domain.activity.service.quota.AbstractRaffleActivityAccountQuotaService.createOrder(AbstractRaffleActivityAccountQuotaService.java:63)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.Throwable: 活动库存为空
	at top.javarem.types.exception.AppException.<init>(AppException.java:30)
	... 57 common frames omitted
25-01-21.18:30:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:30:00.031 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:30:00.104 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:30:30.001 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:30:30.072 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:30:59.934 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:31:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:31:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:31:00.096 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:31:00.170 [http-nio-8091-exec-8] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=0, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:31:00.170 [http-nio-8091-exec-8] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:31:00.171 [http-nio-8091-exec-8] ERROR RaffleActivityController - 积分兑换商品失败 userId:rem sku:9011 {}
top.javarem.types.exception.AppException: null
	at top.javarem.domain.activity.service.quota.rule.impl.BaseFilterChain.execute(BaseFilterChain.java:36)
	at top.javarem.domain.activity.service.quota.AbstractRaffleActivityAccountQuotaService.createOrder(AbstractRaffleActivityAccountQuotaService.java:63)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.Throwable: 活动库存为空
	at top.javarem.types.exception.AppException.<init>(AppException.java:30)
	... 57 common frames omitted
25-01-21.18:31:30.005 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:31:30.082 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:32:00.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:32:00.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:32:00.152 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:32:03.588 [http-nio-8091-exec-11] INFO  RaffleStrategyController - 预热抽奖策略 strategyId=100006
25-01-21.18:32:03.588 [http-nio-8091-exec-11] INFO  RaffleStrategyController - 执行抽奖策略装配
25-01-21.18:32:08.843 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动数据装配 activityId:100301
25-01-21.18:32:30.000 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:32:30.026 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:32:38.031 [http-nio-8091-exec-13] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:32:38.276 [http-nio-8091-exec-13] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=100, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:32:38.276 [http-nio-8091-exec-13] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:32:38.276 [http-nio-8091-exec-13] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:32:38.402 [http-nio-8091-exec-13] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=23407117974, orderTime=2025-01-21T18:32:38.402, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=733389754979))
25-01-21.18:32:38.561 [http-nio-8091-exec-13] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:32:38.879 [http-nio-8091-exec-13] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"70904126443","timestamp":"Jan 21, 2025 6:32:38 PM","data":{"userId":"rem","orderId":"061384517963","amount":1.68,"outBusinessNo":"733389754979"}}
25-01-21.18:32:38.915 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"70904126443","timestamp":"Jan 21, 2025 6:32:38 PM","data":{"userId":"rem","orderId":"061384517963","amount":1.68,"outBusinessNo":"733389754979"}}
25-01-21.18:32:38.932 [http-nio-8091-exec-13] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:061384517963 topic: credit_adjust_success
25-01-21.18:32:38.932 [http-nio-8091-exec-13] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:061384517963
25-01-21.18:32:38.932 [http-nio-8091-exec-13] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:061384517963
25-01-21.18:33:00.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:33:00.236 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:33:00.260 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:33:30.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:33:30.038 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:33:33.417 [http-nio-8091-exec-14] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:rem sku:9011
25-01-21.18:33:33.589 [http-nio-8091-exec-14] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=99, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:33:33.589 [http-nio-8091-exec-14] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:33:33.589 [http-nio-8091-exec-14] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:33:33.675 [http-nio-8091-exec-14] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=rem, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=rem, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=97064630856, orderTime=2025-01-21T18:33:33.675, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=960669138565))
25-01-21.18:33:33.834 [http-nio-8091-exec-14] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:rem tradeName:CONVERT_SKU amount:1.68
25-01-21.18:33:34.152 [http-nio-8091-exec-14] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"72604183258","timestamp":"Jan 21, 2025 6:33:33 PM","data":{"userId":"rem","orderId":"694516370121","amount":1.68,"outBusinessNo":"960669138565"}}
25-01-21.18:33:34.184 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"72604183258","timestamp":"Jan 21, 2025 6:33:33 PM","data":{"userId":"rem","orderId":"694516370121","amount":1.68,"outBusinessNo":"960669138565"}}
25-01-21.18:33:34.207 [http-nio-8091-exec-14] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: rem orderId:694516370121 topic: credit_adjust_success
25-01-21.18:33:34.207 [http-nio-8091-exec-14] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:rem orderId:694516370121
25-01-21.18:33:34.207 [http-nio-8091-exec-14] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:rem sku:9011 orderId:694516370121
25-01-21.18:33:57.019 [http-nio-8091-exec-15] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user004 sku:9011
25-01-21.18:33:57.466 [http-nio-8091-exec-15] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=98, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:33:57.466 [http-nio-8091-exec-15] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:33:57.466 [http-nio-8091-exec-15] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:33:57.544 [http-nio-8091-exec-15] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=user004, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=user004, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=10873159993, orderTime=2025-01-21T18:33:57.544, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=556543272784))
25-01-21.18:33:57.691 [http-nio-8091-exec-15] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user004 tradeName:CONVERT_SKU amount:1.68
25-01-21.18:33:57.772 [http-nio-8091-exec-15] ERROR CreditRepository       - 调整账户积分额度失败 userId:user004 orderId:605925120472
top.javarem.types.exception.AppException: null
	at top.javarem.infrastructure.adapter.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at top.javarem.infrastructure.adapter.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:92)
	at top.javarem.infrastructure.adapter.repository.CreditRepository$$FastClassBySpringCGLIB$$5892ff2c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at top.javarem.infrastructure.adapter.repository.CreditRepository$$EnhancerBySpringCGLIB$$eeed514e.saveUserCreditTradeOrder(<generated>)
	at top.javarem.domain.credit.service.CreditAdjustService.createOrder(CreditAdjustService.java:65)
	at top.javarem.trigger.http.RaffleActivityController.creditExchangeProduct(RaffleActivityController.java:244)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.Throwable: 账户积分不足
	at top.javarem.types.exception.AppException.<init>(AppException.java:30)
	... 69 common frames omitted
25-01-21.18:33:57.853 [http-nio-8091-exec-15] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"61200970733","timestamp":"Jan 21, 2025 6:33:57 PM","data":{"userId":"user004","orderId":"605925120472","amount":1.68,"outBusinessNo":"556543272784"}}
25-01-21.18:33:57.879 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"61200970733","timestamp":"Jan 21, 2025 6:33:57 PM","data":{"userId":"user004","orderId":"605925120472","amount":1.68,"outBusinessNo":"556543272784"}}
25-01-21.18:33:57.904 [http-nio-8091-exec-15] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: user004 orderId:605925120472 topic: credit_adjust_success
25-01-21.18:33:57.904 [http-nio-8091-exec-15] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user004 orderId:605925120472
25-01-21.18:33:57.904 [http-nio-8091-exec-15] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user004 sku:9011 orderId:605925120472
25-01-21.18:34:00.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:34:00.044 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:34:00.214 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:34:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:34:30.093 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:35:00.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:35:00.031 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:35:00.159 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:35:30.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:35:30.085 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:36:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:36:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:36:00.121 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:36:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:36:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:37:00.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:37:00.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:37:00.150 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:37:30.016 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:37:30.113 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:38:00.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:38:00.122 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:38:00.151 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:38:30.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:38:30.072 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:39:00.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:39:00.042 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:39:00.165 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:39:30.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:39:30.096 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:40:00.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:40:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:40:00.143 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:40:30.010 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:40:30.088 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:41:00.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:41:00.124 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:41:00.152 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:41:30.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:41:30.079 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:42:00.011 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:42:00.123 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:42:00.152 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:42:30.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:42:30.072 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:43:00.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:43:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:43:00.157 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:43:30.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:43:30.029 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:44:00.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:44:00.364 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:44:34.360 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:44:49.371 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:45:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:45:15.690 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务失败
org.springframework.dao.QueryTimeoutException: Redis server response timeout (3000 ms) occured after 3 retry attempts, is non-idempotent command: false Check connection with Redis node: 110.41.180.185/110.41.180.185:6379 for TCP packet drops or bandwidth limits.  Try to increase nettyThreads and/or timeout settings. Command: (LLEN), params: [rem_market_activity_sku_stock_decr_queue_key_], channel: [id: 0x7306268f, L:/192.168.10.103:62665 - R:110.41.180.185/110.41.180.185:6379]; nested exception is org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 3 retry attempts, is non-idempotent command: false Check connection with Redis node: 110.41.180.185/110.41.180.185:6379 for TCP packet drops or bandwidth limits.  Try to increase nettyThreads and/or timeout settings. Command: (LLEN), params: [rem_market_activity_sku_stock_decr_queue_key_], channel: [id: 0x7306268f, L:/192.168.10.103:62665 - R:110.41.180.185/110.41.180.185:6379]
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:48)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at top.javarem.infrastructure.adapter.repository.ActivityRepository$$EnhancerBySpringCGLIB$$db444a10.isEmptySkuStockDecrQueue(<generated>)
	at top.javarem.domain.activity.service.quota.RaffleActivityAccountQuotaService.isEmptySkuStockDecrQueue(RaffleActivityAccountQuotaService.java:75)
	at top.javarem.trigger.job.UpdateActivitySkuStockJob.executeActivitySkuStockJob(UpdateActivitySkuStockJob.java:26)
	at sun.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 3 retry attempts, is non-idempotent command: false Check connection with Redis node: 110.41.180.185/110.41.180.185:6379 for TCP packet drops or bandwidth limits.  Try to increase nettyThreads and/or timeout settings. Command: (LLEN), params: [rem_market_activity_sku_stock_decr_queue_key_], channel: [id: 0x7306268f, L:/192.168.10.103:62665 - R:110.41.180.185/110.41.180.185:6379]
	at org.redisson.command.RedisExecutor.lambda$scheduleResponseTimeout$9(RedisExecutor.java:431)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
25-01-21.18:45:15.690 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:45:31.352 [scheduling-1    ] ERROR UpdateAwardStockJob    - 扣减库存失败
25-01-21.18:45:31.353 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:45:36.360 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@392c6b94 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:45:41.366 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3aabb49 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:45:46.380 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2c5667a7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:45:51.397 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4e65ea2f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:45:56.400 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@43950113 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:01.406 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@73e880ab (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:01.445 [scheduling-1    ] ERROR SendMessageTaskJob     - 定时任务，扫描MQ任务表发送消息失败。
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
### The error may exist in file [D:\Develop\project\rem-market\market-app\target\classes\mapper\TaskMapper.xml]
### The error may involve top.javarem.infrastructure.dao.mapper.TaskMapper.queryNoSendMessageTaskList
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at com.sun.proxy.$Proxy108.queryNoSendMessageTaskList(Unknown Source)
	at top.javarem.infrastructure.dao.iService.Impl.TaskServiceImpl.queryNoSendMessageTaskList(TaskServiceImpl.java:31)
	at top.javarem.infrastructure.dao.iService.Impl.TaskServiceImpl$$FastClassBySpringCGLIB$$f2346e0c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at top.javarem.infrastructure.dao.iService.Impl.TaskServiceImpl$$EnhancerBySpringCGLIB$$3d1bde9.queryNoSendMessageTaskList(<generated>)
	at top.javarem.infrastructure.adapter.repository.TaskRepository.queryNoSendMessageTaskList(TaskRepository.java:32)
	at top.javarem.infrastructure.adapter.repository.TaskRepository$$FastClassBySpringCGLIB$$4c8338f8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at top.javarem.infrastructure.adapter.repository.TaskRepository$$EnhancerBySpringCGLIB$$21a7e32.queryNoSendMessageTaskList(<generated>)
	at top.javarem.domain.task.service.TaskService.queryNoSendMessageTaskList(TaskService.java:23)
	at top.javarem.trigger.job.SendMessageTaskJob.execute(SendMessageTaskJob.java:33)
	at sun.reflect.GeneratedMethodAccessor93.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
### The error may exist in file [D:\Develop\project\rem-market\market-app\target\classes\mapper\TaskMapper.xml]
### The error may involve top.javarem.infrastructure.dao.mapper.TaskMapper.queryNoSendMessageTaskList
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 40 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	... 46 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30053ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)
	... 56 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2495)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:566)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 61 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:573)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2491)
	... 64 common frames omitted
25-01-21.18:46:01.446 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:46:01.473 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:46:30.010 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:46:35.022 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4719dc2e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:40.028 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4d9d7718 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:45.037 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@67b71722 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:50.048 [scheduling-1    ] WARN  PoolBase               - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@401d6eb4 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
25-01-21.18:46:50.200 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:47:00.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:47:00.055 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:47:00.124 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:47:14.165 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:47:14.191 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:47:14.217 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:47:14.242 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:47:14.289 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:47:14.501 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:47:14.628 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:47:14.628 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:47:15.169 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:47:15.169 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:47:15.169 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:47:15.169 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:47:15.265 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.18:47:15.271 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:47:53.436 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 12080 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:47:53.438 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:47:54.260 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:47:54.262 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:47:54.331 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 0 Redis repository interfaces.
25-01-21.18:47:54.767 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:47:54.876 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:47:54.883 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:47:54.884 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:47:55.041 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:47:55.042 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1568 ms
25-01-21.18:47:55.285 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:47:55.999 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:47:56.179 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:47:59.618 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:47:59.699 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:47:59.708 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:47:59.710 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:47:59.864 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#51ba952e:0/SimpleConnection@7c5c20ed [delegate=amqp://lain@110.41.180.185:5672/, localPort= 65448]
25-01-21.18:48:00.603 [main            ] INFO  Application            - Started Application in 7.578 seconds (JVM running for 8.891)
25-01-21.18:48:01.972 [RMI TCP Connection(2)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:48:01.972 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:48:01.973 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-01-21.18:48:02.005 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:48:02.463 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.18:48:27.356 [http-nio-8091-exec-3] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user004 sku:9011
25-01-21.18:48:27.624 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=97, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:48:27.625 [http-nio-8091-exec-3] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:48:27.628 [http-nio-8091-exec-3] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:48:27.747 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=user004, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=user004, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=55602638995, orderTime=2025-01-21T18:48:27.747, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=425837649840))
25-01-21.18:48:27.915 [http-nio-8091-exec-3] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user004 tradeName:CONVERT_SKU amount:1.68
25-01-21.18:48:28.017 [http-nio-8091-exec-3] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.18:48:28.099 [http-nio-8091-exec-3] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"80870803758","timestamp":"Jan 21, 2025 6:48:27 PM","data":{"userId":"user004","orderId":"476060263999","amount":1.68,"outBusinessNo":"425837649840"}}
25-01-21.18:48:28.134 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"80870803758","timestamp":"Jan 21, 2025 6:48:27 PM","data":{"userId":"user004","orderId":"476060263999","amount":1.68,"outBusinessNo":"425837649840"}}
25-01-21.18:48:28.155 [http-nio-8091-exec-3] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: user004 orderId:476060263999 topic: credit_adjust_success
25-01-21.18:48:28.156 [http-nio-8091-exec-3] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user004 orderId:476060263999
25-01-21.18:48:28.156 [http-nio-8091-exec-3] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user004 sku:9011 orderId:476060263999
25-01-21.18:48:30.011 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:48:30.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:49:00.012 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:49:00.076 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:49:00.113 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:49:30.004 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:49:30.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:50:00.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:50:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:50:00.095 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:50:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:50:30.062 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:51:00.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:51:00.028 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:51:00.095 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:51:30.012 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:51:30.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:52:00.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:52:00.039 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:52:00.067 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:52:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:52:30.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:52:31.249 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:52:31.279 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:52:31.309 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:52:31.339 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:52:31.566 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:52:31.640 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:52:32.026 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:52:32.213 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:52:32.669 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:52:32.669 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:52:32.669 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:52:32.669 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:52:32.778 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.18:52:32.784 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:52:40.077 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 24764 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:52:40.079 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:52:40.899 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:52:40.900 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:52:40.969 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
25-01-21.18:52:41.390 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:52:41.498 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:52:41.504 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:52:41.504 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:52:41.696 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:52:41.697 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1582 ms
25-01-21.18:52:41.928 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:52:42.624 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:52:42.835 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:52:46.176 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:52:46.257 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:52:46.266 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:52:46.268 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:52:46.391 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#24fba488:0/SimpleConnection@71139e77 [delegate=amqp://lain@110.41.180.185:5672/, localPort= 57121]
25-01-21.18:52:46.954 [main            ] INFO  Application            - Started Application in 7.276 seconds (JVM running for 8.489)
25-01-21.18:52:47.669 [RMI TCP Connection(1)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:52:47.669 [RMI TCP Connection(1)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:52:47.672 [RMI TCP Connection(1)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 3 ms
25-01-21.18:52:47.699 [RMI TCP Connection(2)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:52:48.185 [RMI TCP Connection(2)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.18:52:54.175 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user004 sku:9011
25-01-21.18:52:54.446 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=96, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.18:52:54.448 [http-nio-8091-exec-2] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.18:52:54.450 [http-nio-8091-exec-2] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.18:52:54.570 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=user004, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=user004, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=81691272847, orderTime=2025-01-21T18:52:54.569, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=363670123544))
25-01-21.18:52:54.719 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user004 tradeName:CONVERT_SKU amount:1.68
25-01-21.18:52:54.830 [http-nio-8091-exec-2] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.18:52:54.915 [http-nio-8091-exec-2] INFO  EventPublisher         - 发送MQ消息 topic: credit_adjust_success message: {"eventId":"44141194925","timestamp":"Jan 21, 2025 6:52:54 PM","data":{"userId":"user004","orderId":"391873936373","amount":1.68,"outBusinessNo":"363670123544"}}
25-01-21.18:52:54.942 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CreditAdjustSuccessCustomer - 积分调节成功信息消费开始 message:{"eventId":"44141194925","timestamp":"Jan 21, 2025 6:52:54 PM","data":{"userId":"user004","orderId":"391873936373","amount":1.68,"outBusinessNo":"363670123544"}}
25-01-21.18:52:54.974 [http-nio-8091-exec-2] INFO  CreditRepository       - 调整账户积分记录，发送MQ消息完成 userId: user004 orderId:391873936373 topic: credit_adjust_success
25-01-21.18:52:54.974 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user004 orderId:391873936373
25-01-21.18:52:54.974 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user004 sku:9011 orderId:391873936373
25-01-21.18:53:00.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:53:00.173 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:53:00.208 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:53:30.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:53:30.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:54:00.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:54:00.030 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:54:00.050 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:54:30.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:54:30.067 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:55:00.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:55:00.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:55:00.089 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:55:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:55:30.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:56:00.000 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:56:00.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:56:00.079 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:56:30.006 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:56:30.059 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:57:00.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:57:00.062 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:57:00.086 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:57:30.008 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:57:30.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:58:00.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:58:00.044 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:58:00.096 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:58:30.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:58:30.040 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:59:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.18:59:00.035 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:59:00.086 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:59:30.013 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.18:59:30.067 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.18:59:32.978 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:59:33.001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:59:33.024 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:59:33.047 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.18:59:33.093 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:59:33.417 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:59:33.571 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:59:33.773 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.18:59:34.251 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:59:34.252 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:59:34.252 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:59:34.252 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.18:59:34.346 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.18:59:34.351 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.18:59:41.662 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 2224 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.18:59:41.664 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.18:59:42.474 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.18:59:42.475 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.18:59:42.544 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 0 Redis repository interfaces.
25-01-21.18:59:42.970 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.18:59:43.076 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.18:59:43.082 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.18:59:43.082 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.18:59:43.233 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.18:59:43.233 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1531 ms
25-01-21.18:59:43.474 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.18:59:44.192 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:59:44.371 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.18:59:47.826 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.18:59:47.912 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.18:59:47.923 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.18:59:47.925 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.18:59:48.061 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6c9b44bf:0/SimpleConnection@7bc2bb58 [delegate=amqp://lain@110.41.180.185:5672/, localPort= 61653]
25-01-21.18:59:48.736 [main            ] INFO  Application            - Started Application in 7.461 seconds (JVM running for 8.691)
25-01-21.18:59:49.904 [RMI TCP Connection(2)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.18:59:49.904 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.18:59:49.905 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-01-21.18:59:49.932 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.18:59:50.389 [RMI TCP Connection(3)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.19:00:00.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:00:00.138 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:00:00.173 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:00:30.014 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:00:30.069 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:01:00.007 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:01:00.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:01:00.088 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:01:09.765 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:01:09.792 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:01:09.818 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:01:09.845 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:01:10.170 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:01:10.288 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:01:10.342 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:01:10.544 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:01:11.000 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:01:11.000 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:01:11.000 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:01:11.000 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:01:11.109 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.19:01:11.115 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-01-21.19:01:18.456 [main            ] INFO  Application            - Starting Application using Java 1.8.0_151 on mile with PID 26128 (D:\Develop\project\rem-market\market-app\target\classes started by aaa in D:\Develop\project\rem-market)
25-01-21.19:01:18.460 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-01-21.19:01:19.257 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-21.19:01:19.259 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-21.19:01:19.329 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 0 Redis repository interfaces.
25-01-21.19:01:19.763 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-01-21.19:01:19.871 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-01-21.19:01:19.878 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-01-21.19:01:19.878 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-01-21.19:01:20.032 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-01-21.19:01:20.032 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1538 ms
25-01-21.19:01:20.272 [main            ] INFO  Version                - Redisson 3.26.0
25-01-21.19:01:20.977 [redisson-netty-1-6] INFO  ConnectionsHolder      - 1 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.19:01:21.177 [redisson-netty-1-13] INFO  ConnectionsHolder      - 5 connections initialized for 110.41.180.185/110.41.180.185:6379
25-01-21.19:01:24.530 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-21.19:01:24.612 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-01-21.19:01:24.621 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-01-21.19:01:24.623 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [110.41.180.185:5672]
25-01-21.19:01:24.745 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#51ba952e:0/SimpleConnection@7c5c20ed [delegate=amqp://lain@110.41.180.185:5672/, localPort= 61778]
25-01-21.19:01:25.327 [main            ] INFO  Application            - Started Application in 7.254 seconds (JVM running for 8.477)
25-01-21.19:01:26.127 [RMI TCP Connection(2)-192.168.137.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-01-21.19:01:26.127 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-01-21.19:01:26.129 [RMI TCP Connection(2)-192.168.137.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-01-21.19:01:26.160 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-01-21.19:01:26.651 [RMI TCP Connection(1)-192.168.137.1] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-01-21.19:01:30.003 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:01:30.110 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:01:36.761 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user004 sku:9011
25-01-21.19:01:36.989 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=95, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.19:01:36.991 [http-nio-8091-exec-2] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.19:01:36.991 [http-nio-8091-exec-2] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.19:01:37.122 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=user004, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=user004, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=11528156313, orderTime=2025-01-21T19:01:37.121, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=274240493817))
25-01-21.19:01:37.269 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user004 tradeName:CONVERT_SKU amount:1.68
25-01-21.19:01:37.368 [http-nio-8091-exec-2] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.19:01:37.448 [http-nio-8091-exec-2] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user004 orderId:074095208449
25-01-21.19:01:37.448 [http-nio-8091-exec-2] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user004 sku:9011 orderId:074095208449
25-01-21.19:02:00.012 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:02:00.076 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:02:00.234 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:02:30.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:02:30.030 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:03:00.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:03:00.040 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:03:00.065 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:03:30.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:03:30.041 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:04:00.002 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:04:00.098 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:04:00.131 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:04:03.714 [http-nio-8091-exec-5] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user004 sku:9011
25-01-21.19:04:03.785 [http-nio-8091-exec-5] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user004 tradeName:CONVERT_SKU amount:1.68
25-01-21.19:04:03.876 [http-nio-8091-exec-5] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.19:04:03.952 [http-nio-8091-exec-5] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user004 orderId:248315393708
25-01-21.19:04:03.952 [http-nio-8091-exec-5] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user004 sku:9011 orderId:248315393708
25-01-21.19:04:30.009 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:04:30.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:04:43.012 [http-nio-8091-exec-6] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user005 sku:9011
25-01-21.19:04:43.170 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityAccountQuotaService - 查询结果：ActivitySkuEntity(sku=9011, activityId=100301, activityCountId=11101, stockCount=100, stockCountSurplus=94, productAmount=1.68) ActivityEntity(activityId=100301, activityName=测试活动, activityDesc=测试活动, beginTime=Sat Mar 09 10:15:10 CST 2024, endTime=Thu Mar 09 10:15:10 CST 2034, strategyId=100006, status=open) ActivityCountEntity(activityCountId=11101, totalCount=1, dayCount=1, monthCount=1)
25-01-21.19:04:43.170 [http-nio-8091-exec-6] INFO  BaseFilterChain        - 执行基础规则责任链
25-01-21.19:04:43.170 [http-nio-8091-exec-6] INFO  SkuStockFilterChain    - 执行活动sku库存扣减责任链
25-01-21.19:04:43.260 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityAccountQuotaService - CreateQuotaOrderAggregate(userId=user005, activityId=100301, activityName=null, totalCount=1, monthCount=1, dayCount=1, activityOrder=ActivityOrderEntity(userId=user005, sku=9011, activityId=100301, activityName=测试活动, strategyId=100006, orderId=68121762921, orderTime=2025-01-21T19:04:43.260, totalCount=1, dayCount=1, monthCount=1, payAmount=1.68, activityOrderType=credit_pay_trade, status=null, outBusinessNo=952080449417))
25-01-21.19:04:43.415 [http-nio-8091-exec-6] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user005 tradeName:CONVERT_SKU amount:1.68
25-01-21.19:04:43.488 [http-nio-8091-exec-6] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.19:04:43.562 [http-nio-8091-exec-6] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user005 orderId:834825676054
25-01-21.19:04:43.562 [http-nio-8091-exec-6] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user005 sku:9011 orderId:834825676054
25-01-21.19:05:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:05:00.185 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:05:00.212 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:05:27.317 [http-nio-8091-exec-7] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user005 sku:9011
25-01-21.19:05:27.374 [http-nio-8091-exec-7] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user005 tradeName:CONVERT_SKU amount:1.68
25-01-21.19:05:27.456 [http-nio-8091-exec-7] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.19:05:27.534 [http-nio-8091-exec-7] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user005 orderId:685760021638
25-01-21.19:05:27.534 [http-nio-8091-exec-7] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user005 sku:9011 orderId:685760021638
25-01-21.19:05:30.009 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:05:30.036 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:05:49.826 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品 检验参数开始 userId:user005 sku:9011
25-01-21.19:05:49.893 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:user005 tradeName:CONVERT_SKU amount:1.68
25-01-21.19:05:49.978 [http-nio-8091-exec-8] ERROR CreditRepository       - ERROR_BIZ_010 账户积分不足
25-01-21.19:05:50.055 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:user005 orderId:505638362706
25-01-21.19:05:50.056 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:user005 sku:9011 orderId:505638362706
25-01-21.19:06:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:06:00.032 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:06:00.059 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:06:30.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:06:30.035 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:07:00.004 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:07:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:07:00.098 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:07:30.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:07:30.034 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:08:00.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 更新奖品库存任务
25-01-21.19:08:00.032 [scheduling-1    ] INFO  SendMessageTaskJob     - 发送MQ消息任务开始执行
25-01-21.19:08:00.101 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 活动库存扣减定时任务
25-01-21.19:08:18.101 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:08:18.123 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:08:18.145 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:08:18.167 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-01-21.19:08:18.192 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:08:18.850 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:08:18.894 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:08:19.099 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-01-21.19:08:19.563 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:08:19.563 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:08:19.563 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:08:19.563 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-01-21.19:08:19.657 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-01-21.19:08:19.665 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
